<div class="threes-bot--algorithm" ng-if="algorithm">
	<div class="threes-bot--share-btn threes-bot--btn twitter" ng-click="tweet()">
		<img src="/images/twitter.svg">
		<span>Tweet</span>
	</div>
	<div class="threes-bot--report">
		<div class="threes-bot--report-pending" ng-show="isPending()">Processing...</div>
		<div class="threes-bot--report-title">Report</div>
		<div class="threes-bot--report-scores">
			<div class="threes-bot--report-highscore">
				<div>{{getHighScore()}}</div>
				<label>High Score</label>
			</div>
			<div class="threes-bot--report-averagescore">
				<div>{{getAverageScore()}}</div>
				<label>Average Score</label>
			</div>
		</div>
		<table class="threes-bot--runs" cellpadding="3">
			<thead>
				<tr>
					<th>Test #</th>
					<th>Score</th>
					<th>Moves</th>
					<th>Status</th>
				</tr>
			</thead>
			<tbody>
				<tr ng-repeat="run in algorithm.runs track by $index">
					<td>{{$index+1}}</td>
					<td>{{run.score}}</td>
					<td>{{run.ticksCount}}</td>
					<td>
						<span class="error" ng-show="run.hasError || run.hitLimit">
							<span ng-show="run.errorType=='timeout'">TIMED OUT</span>
							<span ng-show="run.hitLimit">LIMIT</span>
							<span ng-show="run.errorType!='timeout' && !run.hitLimit">ERROR</span>
						</span>
						<span class="success" ng-show="!run.hasError && !run.hitLimit">OK</span>
					</td>
				</tr>
				<tr ng-show="isPending()">
					<td>{{algorithm.runs.length+1}}</td>
					<td>-</td>
					<td>-</td>
					<td class="pending">PENDING</td>
				</tr>
			</tbody>
		</table>
	</div>
	<div class="threes-bot--monitor">
		<img class="threes-bot--monitor-body" src="/images/monitor.svg">
		<div ng-hide="showManual" class="threes-bot--terminal" ui-ace="{
			  useWrapMode : true,
			  mode: 'javascript',
			  onLoad: aceLoaded
			}"></div>
		<div class="threes-bot--manual" ng-show="showManual">
			<div>
				Write some JavaScript that will help Threes Bot determine the next move.
				Your code must return "LEFT", "RIGHT", "UP", or "DOWN".
			</div>
			<br>
			<div>Here are the helper variables that will be available to you:</div>
			<ul>
				<li>BOARD: an array of arrays representing the board</li>
				<pre>
[[0, 1, 2, 0]
 [3, 0, 0, 0]
 [0, 0, 0, 1]
 [1, 0, 1, 0]]
				</pre>
				<li>NEXT: the next tile</li>
				<li>VALID_MOVES: all valid moves</li>
				<li>RANDOM_NUMBER: a random number between 0 - 1 (Math.random())</li>
				<li>RANDOM_MOVE: a random valid move</li>
			</ul>
		</div>
		<div class="threes-bot--manual-toggle" ng-click="showManual=!showManual">
			<span ng-hide="showManual">View Manual</span>
			<span ng-show="showManual">Use Terminal</span>
		</div>
		<div class="threes-bot--readonly">READ ONLY</div>
		<div class="threes-bot--analyze-btn threes-bot--btn green" ng-click="edit()">Copy and Edit</div>
	</div>
</div>
